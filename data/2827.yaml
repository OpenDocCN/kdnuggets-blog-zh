- en: Serverless Machine Learning with R on Cloud Run
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ R åœ¨ Cloud Run ä¸Šè¿›è¡Œæ— æœåŠ¡å™¨æœºå™¨å­¦ä¹ 
- en: åŸæ–‡ï¼š[https://www.kdnuggets.com/2020/02/serverless-machine-learning-r-cloud-run.html](https://www.kdnuggets.com/2020/02/serverless-machine-learning-r-cloud-run.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://www.kdnuggets.com/2020/02/serverless-machine-learning-r-cloud-run.html](https://www.kdnuggets.com/2020/02/serverless-machine-learning-r-cloud-run.html)
- en: '[comments](#comments)'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '[è¯„è®º](#comments)'
- en: '**By [Timothy Lin](https://www.linkedin.com/in/timothy-lin-0600ba141/), Data
    Scientist, Econometrician**'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä½œè€… [Timothy Lin](https://www.linkedin.com/in/timothy-lin-0600ba141/)ï¼Œæ•°æ®ç§‘å­¦å®¶ï¼Œè®¡é‡ç»æµå­¦å®¶**'
- en: 'One of the main challenges that every data scientist face is model deployment.
    Unless you are one of the lucky few who has loads of data engineers to help you
    deploy a model, itâ€™s really an issue in enterprise projects. I am not even implying
    that the model needs to be production ready but even a seemingly basic issue of
    making the model and insights accessible to business users is more of a hassle
    then it needs to be. There used to be 2 main ways of solving the problem:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä½æ•°æ®ç§‘å­¦å®¶é¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜ä¹‹ä¸€æ˜¯æ¨¡å‹éƒ¨ç½²ã€‚é™¤éä½ æ˜¯é‚£äº›å¹¸è¿çš„å°‘æ•°äººä¹‹ä¸€ï¼Œæ‹¥æœ‰å¤§é‡æ•°æ®å·¥ç¨‹å¸ˆæ¥å¸®åŠ©ä½ éƒ¨ç½²æ¨¡å‹ï¼Œå¦åˆ™åœ¨ä¼ä¸šé¡¹ç›®ä¸­è¿™ç¡®å®æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ç”šè‡³æ²¡æœ‰æš—ç¤ºæ¨¡å‹éœ€è¦å‡†å¤‡å¥½ç”Ÿäº§ä½¿ç”¨ï¼Œä½†å³ä½¿æ˜¯å°†æ¨¡å‹å’Œè§è§£æä¾›ç»™ä¸šåŠ¡ç”¨æˆ·è¿™æ ·ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„é—®é¢˜ï¼Œä¹Ÿæ¯”å®é™…éœ€è¦çš„è¦éº»çƒ¦å¾—å¤šã€‚è¿‡å»è§£å†³è¿™ä¸ªé—®é¢˜ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š
- en: Ad-hoc manual runs at every request
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯æ¬¡è¯·æ±‚çš„ä¸´æ—¶æ‰‹åŠ¨è¿è¡Œ
- en: Hosting the code on a server and writing an API interface to make the results
    available
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å°†ä»£ç æ‰˜ç®¡åœ¨æœåŠ¡å™¨ä¸Šå¹¶ç¼–å†™ API æ¥å£ä»¥ä½¿ç»“æœå¯ç”¨
- en: These are two ends of the spectrum. Ad-hoc runs are just too tedious and clients
    typically demand for some self-serve interface but good luck trying to get a permanent
    server to host your code. Turns out there is a third way - the serverless way!
    AWS Lambdas and Google Cloud Platform Cloud Functions have really opened up a
    new way of serving results without having to manage any infrastructure. If you
    have access to the cloud, this is a very attractive option.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸¤ç§æ–¹æ³•ä»£è¡¨äº†ä¸€ä¸ªå…‰è°±çš„ä¸¤ç«¯ã€‚ä¸´æ—¶è¿è¡Œå¤ªè¿‡ç¹çï¼Œå®¢æˆ·é€šå¸¸ä¼šè¦æ±‚æŸç§è‡ªåŠ©æœåŠ¡ç•Œé¢ï¼Œä½†è¦è·å¾—ä¸€ä¸ªæ°¸ä¹…æœåŠ¡å™¨æ¥æ‰˜ç®¡ä½ çš„ä»£ç åˆ™è¦è¿æ°”å¥½ã€‚äº‹å®è¯æ˜è¿˜æœ‰ä¸€ç§ç¬¬ä¸‰ç§æ–¹æ³•â€”â€”æ— æœåŠ¡å™¨æ–¹æ³•ï¼AWS
    Lambdas å’Œ Google Cloud Platform Cloud Functions ç¡®å®å¼€è¾Ÿäº†ä¸€ç§æ–°çš„ç»“æœæœåŠ¡æ–¹å¼ï¼Œè€Œæ— éœ€ç®¡ç†ä»»ä½•åŸºç¡€è®¾æ–½ã€‚å¦‚æœä½ å¯ä»¥è®¿é—®äº‘ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰å¸å¼•åŠ›çš„é€‰é¡¹ã€‚
- en: If you are from the javascript or python world you might have already used some
    of these tools. The problem with cloud functions is that it is restricted to particular
    environments. However, with the recent introduction of GCPâ€™sÂ [Cloud Run](https://cloud.google.com/run/docs/reference/container-contract),
    we are no longer limited by this problem. Cloud run allows custom docker images
    to be served on the cloud, opening up the serverless realm to many interesting
    possibilities. This means that R users can also finally have a way to develop
    and deploy serverless ML models!????Â¹
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ¥è‡ª JavaScript æˆ– Python é¢†åŸŸï¼Œä½ å¯èƒ½å·²ç»ä½¿ç”¨è¿‡è¿™äº›å·¥å…·ã€‚äº‘å‡½æ•°çš„é—®é¢˜åœ¨äºå®ƒé™åˆ¶äºç‰¹å®šç¯å¢ƒã€‚ç„¶è€Œï¼Œéšç€ GCP çš„ [Cloud
    Run](https://cloud.google.com/run/docs/reference/container-contract) çš„å¼•å…¥ï¼Œæˆ‘ä»¬ä¸å†å—æ­¤é—®é¢˜çš„é™åˆ¶ã€‚Cloud
    Run å…è®¸åœ¨äº‘ä¸Šæä¾›è‡ªå®šä¹‰ Docker é•œåƒï¼Œä»è€Œä¸ºæ— æœåŠ¡å™¨é¢†åŸŸå¼€è¾Ÿäº†è®¸å¤šæœ‰è¶£çš„å¯èƒ½æ€§ã€‚è¿™æ„å‘³ç€ R ç”¨æˆ·ä¹Ÿç»ˆäºæœ‰äº†å¼€å‘å’Œéƒ¨ç½²æ— æœåŠ¡å™¨æœºå™¨å­¦ä¹ æ¨¡å‹çš„æ–¹å¼ï¼????
- en: This post documents some of my experience with cloud run and hopefully serves
    as a good reference template for anyone who might want to try it out. I take inspiration
    from two other sources, namelyÂ [Markâ€™s blog](https://code.markedmondson.me/googleCloudRunner-intro/)Â andÂ [Ericâ€™s
    post](https://ericjinks.com/blog/2019/serverless-R-cloud-run/). Mark actually
    has a package on CRAN that automates some of the deployment work and Eric has
    a nice bit on continuous integration pipelines so do check it out.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡æ–‡ç« è®°å½•äº†æˆ‘åœ¨ä½¿ç”¨ Cloud Run æ—¶çš„ä¸€äº›ç»éªŒï¼Œå¸Œæœ›èƒ½ä½œä¸ºä¸€ä¸ªå¥½çš„å‚è€ƒæ¨¡æ¿ï¼Œä¾›ä»»ä½•å¯èƒ½æƒ³å°è¯•çš„äººä½¿ç”¨ã€‚æˆ‘ä»ä¸¤ä¸ªå…¶ä»–æ¥æºä¸­è·å¾—äº†çµæ„Ÿï¼Œå³ [Mark
    çš„åšå®¢](https://code.markedmondson.me/googleCloudRunner-intro/) å’Œ [Eric çš„æ–‡ç« ](https://ericjinks.com/blog/2019/serverless-R-cloud-run/)ã€‚Mark
    å®é™…ä¸Šåœ¨ CRAN ä¸Šæœ‰ä¸€ä¸ªè‡ªåŠ¨åŒ–ä¸€äº›éƒ¨ç½²å·¥ä½œçš„åŒ…ï¼ŒEric è¿˜ä»‹ç»äº†æŒç»­é›†æˆç®¡é“çš„ä¸€äº›å†…å®¹ï¼Œæ‰€ä»¥ä¸€å®šè¦å»çœ‹çœ‹ã€‚
- en: This post is more of a practical guide with a real world machine learning application
    that an analyst might develop and wish to deploy, which I think makes the application
    a lot more concrete and useful. Itâ€™s also a really fun little side project.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡æ–‡ç« æ›´åƒæ˜¯ä¸€ä¸ªå®ç”¨æŒ‡å—ï¼ŒåŒ…å«ä¸€ä¸ªåˆ†æå¸ˆå¯èƒ½å¼€å‘å¹¶å¸Œæœ›éƒ¨ç½²çš„çœŸå®ä¸–ç•Œæœºå™¨å­¦ä¹ åº”ç”¨ï¼Œè¿™ä½¿å¾—åº”ç”¨å˜å¾—æ›´åŠ å…·ä½“å’Œæœ‰ç”¨ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„å°å‰¯é¡¹ç›®ã€‚
- en: If you are a coding person, you could skip the rest of the post and dive into
    theÂ [github code](https://github.com/timlrx/serverless-ml), otherwise read on
    :)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ˜¯ä¸€ä¸ªç¼–ç¨‹äººå‘˜ï¼Œä½ å¯ä»¥è·³è¿‡å‰©ä¸‹çš„æ–‡ç« ï¼Œç›´æ¥æŸ¥çœ‹ [github ä»£ç ](https://github.com/timlrx/serverless-ml)ï¼Œå¦åˆ™ç»§ç»­é˜…è¯»
    :)
- en: Will My Project Run on the Cloud Run?
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æˆ‘çš„é¡¹ç›®ä¼šåœ¨ Cloud Run ä¸Šè¿è¡Œå—ï¼Ÿ
- en: Cloud run is not a panacea. Check out theÂ [requirement specification](https://cloud.google.com/run/docs/reference/container-contract)Â andÂ [limits](https://cloud.google.com/run/quotas)Â for
    more details but here are some limitations that you should be aware of.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Cloud run å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚æŸ¥çœ‹Â [éœ€æ±‚è§„æ ¼è¯´æ˜](https://cloud.google.com/run/docs/reference/container-contract)Â å’ŒÂ [é™åˆ¶](https://cloud.google.com/run/quotas)Â ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œä½†è¿™é‡Œæœ‰ä¸€äº›ä½ åº”è¯¥æ³¨æ„çš„é™åˆ¶ã€‚
- en: States are not persisted (if you want to persist them you need an external database)
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: çŠ¶æ€ä¸ä¼šè¢«æŒä¹…åŒ–ï¼ˆå¦‚æœä½ æƒ³æŒä¹…åŒ–å®ƒä»¬ï¼Œä½ éœ€è¦ä¸€ä¸ªå¤–éƒ¨æ•°æ®åº“ï¼‰
- en: The maximum memory limit is 2GB
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€å¤§å†…å­˜é™åˆ¶ä¸º 2GB
- en: The container must start a server within 4 minutes after receiving a request
    and it times out after 15 minutes
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®¹å™¨å¿…é¡»åœ¨æ”¶åˆ°è¯·æ±‚åçš„ 4 åˆ†é’Ÿå†…å¯åŠ¨æœåŠ¡å™¨ï¼Œå¹¶åœ¨ 15 åˆ†é’Ÿåè¶…æ—¶
- en: This makes it well suited for short computations, but not tasks which might
    require lots of memory or are very CPU intensive. 15 minutes in reality is not
    too bad! You could probably run some regressions, decision trees, even solve a
    linear programming problem but maybe not train a neural network.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä½¿å…¶éå¸¸é€‚åˆçŸ­æ—¶é—´è®¡ç®—ï¼Œä½†ä¸é€‚åˆéœ€è¦å¤§é‡å†…å­˜æˆ–éå¸¸ CPU å¯†é›†çš„ä»»åŠ¡ã€‚15 åˆ†é’Ÿå®é™…ä¸Šè¿˜ç®—ä¸é”™ï¼ä½ å¯èƒ½å¯ä»¥è¿è¡Œä¸€äº›å›å½’åˆ†æã€å†³ç­–æ ‘ï¼Œç”šè‡³è§£å†³çº¿æ€§è§„åˆ’é—®é¢˜ï¼Œä½†å¯èƒ½æ— æ³•è®­ç»ƒç¥ç»ç½‘ç»œã€‚
- en: Twitter Project ????
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Twitter é¡¹ç›® ????
- en: '![](../Images/42efd06b01197b8373875beb2914f7ee.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/42efd06b01197b8373875beb2914f7ee.png)'
- en: 'Hereâ€™s my fun serverless-ml weekend project: an application that analyzes the
    twitter-verse. I wanted to generate two plots: a graph which compares the frequency
    of tweets over time and another one which does a sentiment analysis on the tweets.
    As an added bonus, I decided to make it interactive - this means serving static
    plots as well as interactive plotly results.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘æœ‰è¶£çš„ serverless-ml å‘¨æœ«é¡¹ç›®ï¼šä¸€ä¸ªåˆ†æ Twitter é¢†åŸŸçš„åº”ç”¨ç¨‹åºã€‚æˆ‘æƒ³ç”Ÿæˆä¸¤ä¸ªå›¾è¡¨ï¼šä¸€ä¸ªæ¯”è¾ƒæ¨æ–‡é¢‘ç‡éšæ—¶é—´å˜åŒ–çš„å›¾è¡¨ï¼Œä»¥åŠå¦ä¸€ä¸ªå¯¹æ¨æ–‡è¿›è¡Œæƒ…æ„Ÿåˆ†æçš„å›¾è¡¨ã€‚ä½œä¸ºé¢å¤–å¥–åŠ±ï¼Œæˆ‘å†³å®šä½¿å…¶å…·æœ‰äº¤äº’æ€§â€”â€”è¿™æ„å‘³ç€æ—¢æä¾›é™æ€å›¾è¡¨ï¼Œä¹Ÿæä¾›äº¤äº’å¼
    plotly ç»“æœã€‚
- en: 'The main package I used were: rtweet, dplyr, ggplot2, tidytext, tidyr and stringr.
    If you are new to tidytext, check out some of my previous posts such as this one
    way back in 2017 which analyzesÂ [recipe books](https://www.timlrx.com/2017/06/24/thesis-thursday-4-analysing-recipes/).'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä½¿ç”¨çš„ä¸»è¦åŒ…æœ‰ï¼šrtweet, dplyr, ggplot2, tidytext, tidyr å’Œ stringrã€‚å¦‚æœä½ å¯¹ tidytext ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘ä¹‹å‰çš„ä¸€äº›å¸–å­ï¼Œä¾‹å¦‚2017å¹´çš„è¿™ç¯‡ï¼Œåˆ†æäº†[é£Ÿè°±ä¹¦](https://www.timlrx.com/2017/06/24/thesis-thursday-4-analysing-recipes/)ã€‚
- en: rtweet provides a convenient api to collect users timeline information. You
    would need a twitter API account to get started. Itâ€™s a simple process and you
    can register for one here:Â [https://developer.twitter.com/en/apply-for-access](https://developer.twitter.com/en/apply-for-access).
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: rtweet æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„ API æ¥æ”¶é›†ç”¨æˆ·æ—¶é—´çº¿ä¿¡æ¯ã€‚ä½ éœ€è¦ä¸€ä¸ª Twitter API è´¦æˆ·æ‰èƒ½å¼€å§‹ä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è¿‡ç¨‹ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ³¨å†Œï¼šÂ [https://developer.twitter.com/en/apply-for-access](https://developer.twitter.com/en/apply-for-access)ã€‚
- en: Take note of the four keys/tokens. They should be saved as an environment variable
    in your system.Â²Â These four keys correspond to API_KEY, API_SECRET_KEY, ACCESS_TOKEN
    and ACCESS_SECRET in the tweet.R file and will be retrieved programmatically when
    needed.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„è¿™å››ä¸ªå¯†é’¥/ä»¤ç‰Œã€‚å®ƒä»¬åº”è¯¥ä½œä¸ºç¯å¢ƒå˜é‡ä¿å­˜åœ¨ä½ çš„ç³»ç»Ÿä¸­ã€‚Â²è¿™å››ä¸ªå¯†é’¥å¯¹åº”äº tweet.R æ–‡ä»¶ä¸­çš„ API_KEYã€API_SECRET_KEYã€ACCESS_TOKEN
    å’Œ ACCESS_SECRETï¼Œå¹¶å°†åœ¨éœ€è¦æ—¶ä»¥ç¼–ç¨‹æ–¹å¼æ£€ç´¢ã€‚
- en: '![](../Images/66daf56784262c7a5fe71ed865665954.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/66daf56784262c7a5fe71ed865665954.png)'
- en: '[Tweet.R](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/(https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R))'
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Tweet.R](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/(https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R))'
- en: Wonâ€™t go much into the data science code but you can check it out overÂ [here](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R).
    The important part of it is that we are encapsulating each part as a function
    which we then call in the main api routing file (app.R).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ä¼šæ·±å…¥æ¢è®¨æ•°æ®ç§‘å­¦ä»£ç ï¼Œä½†ä½ å¯ä»¥åœ¨Â [è¿™é‡Œ](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/tweet.R)æŸ¥çœ‹ã€‚é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å°†æ¯ä¸€éƒ¨åˆ†å°è£…æˆå‡½æ•°ï¼Œç„¶ååœ¨ä¸»
    API è·¯ç”±æ–‡ä»¶ (app.R) ä¸­è°ƒç”¨è¿™äº›å‡½æ•°ã€‚
- en: For the sentiment analysis, we are counting the number of positive and negative
    words as matched by a dictionary.Â³Â The lexical dictionary is fromÂ [Bing Liu et
    al.](https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html). Doesnâ€™t this require
    at external database? Not really - external dependencies or data files are fine,
    as long as they are stateless. We can package it together with our docker file
    or in this case it comes installed with the tidytext package!
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæƒ…æ„Ÿåˆ†æï¼Œæˆ‘ä»¬é€šè¿‡å­—å…¸åŒ¹é…æ¥ç»Ÿè®¡æ­£é¢å’Œè´Ÿé¢è¯æ±‡çš„æ•°é‡ã€‚Â³ è¯æ±‡å­—å…¸æ¥è‡ªäº[Bing Liu et al.](https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html)ã€‚è¿™æ˜¯å¦éœ€è¦å¤–éƒ¨æ•°æ®åº“ï¼Ÿå®é™…ä¸Šä¸éœ€è¦
    - å¤–éƒ¨ä¾èµ–é¡¹æˆ–æ•°æ®æ–‡ä»¶æ˜¯å¯ä»¥çš„ï¼Œåªè¦å®ƒä»¬æ˜¯æ— çŠ¶æ€çš„ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶ä¸æˆ‘ä»¬çš„dockeræ–‡ä»¶ä¸€èµ·æ‰“åŒ…ï¼Œæˆ–è€…åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒéštidytextåŒ…ä¸€èµ·å®‰è£…ï¼
- en: '[App.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/app.R)'
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[App.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/app.R)'
- en: This file contains the serving logic. We are using theÂ [plumber package](https://www.rplumber.io/)Â which
    allows us to create a REST API in R by decorating it in with some markup. You
    can specify query parameters by using aÂ `#* @param`Â markup and specify the type
    of output to return such asÂ `#* @png`Â for a static image orÂ `#* @html`Â for html.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†æœåŠ¡é€»è¾‘ã€‚æˆ‘ä»¬ä½¿ç”¨[plumber package](https://www.rplumber.io/)ï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡ä¸€äº›æ ‡è®°åœ¨Rä¸­åˆ›å»ºREST
    APIã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨`#* @param`æ ‡è®°æ¥æŒ‡å®šæŸ¥è¯¢å‚æ•°ï¼Œå¹¶æŒ‡å®šè¿”å›çš„è¾“å‡ºç±»å‹ï¼Œå¦‚`#* @png`ç”¨äºé™æ€å›¾åƒï¼Œæˆ–`#* @html`ç”¨äºhtmlã€‚
- en: 'As an added bonus, thereâ€™s also an out of the box option to make htmlwidgets
    work (`#* @serializer htmlwidget`). This makes our serving plotly results really
    simple. I decided to create two paths for each plot, a static one as well as a
    plotly interactive result. So in total we have four paths:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºé¢å¤–çš„å¥½å¤„ï¼Œè¿˜æœ‰ä¸€ä¸ªå¼€ç®±å³ç”¨çš„é€‰é¡¹æ¥ä½¿htmlwidgetså·¥ä½œï¼ˆ`#* @serializer htmlwidget`ï¼‰ã€‚è¿™ä½¿å¾—æˆ‘ä»¬çš„plotlyç»“æœå±•ç¤ºå˜å¾—éå¸¸ç®€å•ã€‚æˆ‘å†³å®šä¸ºæ¯ä¸ªå›¾åˆ›å»ºä¸¤ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªé™æ€çš„å’Œä¸€ä¸ªplotlyäº¤äº’å¼çš„ã€‚æ‰€ä»¥æ€»å…±æœ‰å››ä¸ªè·¯å¾„ï¼š
- en: /frequency (ggplot)
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: /frequency (ggplot)
- en: /html/frequency (plotly)
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: /html/frequency (plotly)
- en: /sentiment (ggplot)
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: /sentiment (ggplot)
- en: /html/sentiment (plotly)
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: /html/sentiment (plotly)
- en: The functions all accept two arguments:Â `n`Â - the number of tweets, andÂ `users`Â which
    could be a comma separated list of user IDs which we will then query the twitter
    API via rtweet for the relevant information.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›å‡½æ•°éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š`n` - æ¨æ–‡æ•°é‡ï¼Œä»¥åŠ`users`ï¼Œè¿™å¯ä»¥æ˜¯ä¸€ä¸ªç”¨é€—å·åˆ†éš”çš„ç”¨æˆ·IDåˆ—è¡¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡rtweetæŸ¥è¯¢Twitter APIè·å–ç›¸å…³ä¿¡æ¯ã€‚
- en: '[Server.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/server.R)'
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Server.R](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/server.R)'
- en: This is the bit of code that starts our plumber server. We infer the port as
    defined by an environment variable (PORT).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ®µä»£ç å¯åŠ¨äº†æˆ‘ä»¬çš„plumberæœåŠ¡å™¨ã€‚æˆ‘ä»¬é€šè¿‡ç¯å¢ƒå˜é‡ï¼ˆPORTï¼‰æ¨æ–­ç«¯å£ã€‚
- en: Thatâ€™s it for the R code. Now you should have a working application which you
    can run locally from your computer. Next, we get into the grimy details of ML-ops
    ????â€â™€. This involves packaging our dependencies with docker and deploying it
    on cloud run.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯Rä»£ç çš„å…¨éƒ¨å†…å®¹ã€‚ç°åœ¨ä½ åº”è¯¥æœ‰ä¸€ä¸ªå¯ä»¥åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ML-opsçš„å¤æ‚ç»†èŠ‚ ????â€â™€ã€‚è¿™æ¶‰åŠåˆ°ä½¿ç”¨Dockeræ‰“åŒ…æˆ‘ä»¬çš„ä¾èµ–é¡¹ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ°äº‘ç«¯ã€‚
- en: Docker
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Docker
- en: Docker is a platform which packages different software, configurations and environments
    into containers which neatly encapsulate your application. The end user just needs
    to list out the installation steps to build the image which can subsequently be
    run on the docker platform ????.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: Dockeræ˜¯ä¸€ä¸ªå°†ä¸åŒçš„è½¯ä»¶ã€é…ç½®å’Œç¯å¢ƒæ‰“åŒ…æˆå®¹å™¨çš„å¹³å°ï¼Œè¿™äº›å®¹å™¨æ•´æ´åœ°å°è£…äº†ä½ çš„åº”ç”¨ç¨‹åºã€‚æœ€ç»ˆç”¨æˆ·åªéœ€è¦åˆ—å‡ºå®‰è£…æ­¥éª¤ä»¥æ„å»ºé•œåƒï¼Œç„¶åå¯ä»¥åœ¨dockerå¹³å°ä¸Šè¿è¡Œ????ã€‚
- en: 'To jump start the configuration, we build on top of the officialÂ [r-base image](https://hub.docker.com/_/r-base).
    Itâ€™s a Linux image and we need to install some additional dependencies to make
    the application work, namely libssl-dev for rtweet and pandoc for dealing with
    htmlwidgets. This forms the start of ourÂ [Dockerfile](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/Dockerfile):'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å¯åŠ¨é…ç½®ï¼Œæˆ‘ä»¬åœ¨å®˜æ–¹çš„[r-base image](https://hub.docker.com/_/r-base)ä¸Šè¿›è¡Œæ„å»ºã€‚è¿™æ˜¯ä¸€ä¸ªLinuxé•œåƒï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€äº›é¢å¤–çš„ä¾èµ–é¡¹ä»¥ä½¿åº”ç”¨ç¨‹åºæ­£å¸¸å·¥ä½œï¼Œå³rtweetçš„libssl-devå’Œå¤„ç†htmlwidgetsçš„pandocã€‚è¿™æ˜¯æˆ‘ä»¬çš„[Dockerfile](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/Dockerfile)çš„å¼€å§‹ï¼š
- en: '[PRE0]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Next, we copy the scripts in our directory to the app directory in the container
    and install the necessary R libraries using the Rscript function:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç›®å½•ä¸­çš„è„šæœ¬å¤åˆ¶åˆ°å®¹å™¨ä¸­çš„åº”ç”¨ç¨‹åºç›®å½•ï¼Œå¹¶ä½¿ç”¨Rscriptå‡½æ•°å®‰è£…å¿…è¦çš„Råº“ï¼š
- en: '[PRE1]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'We expose port 8000 (this is more for documentation) and run the server when
    the container is launched:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æš´éœ²ç«¯å£8000ï¼ˆè¿™ä¸»è¦ç”¨äºæ–‡æ¡£ï¼‰ï¼Œå¹¶åœ¨å®¹å™¨å¯åŠ¨æ—¶è¿è¡ŒæœåŠ¡å™¨ï¼š
- en: '[PRE2]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'letâ€™s build the docker image and give it a run:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ„å»ºdockeré•œåƒå¹¶è¿è¡Œå®ƒï¼š
- en: '[PRE3]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`${IMAGE}`Â here represents the name which you can assign to the image. Remember
    the environment variables that we need for the application? Port for plumber and
    the API keys to access twitter API? We pass it to the container when we are running
    it. Note: The build process is quite long, with the image being 1.22GB big.â´'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '`${IMAGE}`è¿™é‡Œä»£è¡¨ä½ å¯ä»¥åˆ†é…ç»™é•œåƒçš„åç§°ã€‚è¿˜è®°å¾—æˆ‘ä»¬éœ€è¦çš„ç¯å¢ƒå˜é‡å—ï¼ŸPlumber çš„ç«¯å£å’Œè®¿é—®æ¨ç‰¹ API çš„ API å¯†é’¥ï¼Ÿæˆ‘ä»¬åœ¨è¿è¡Œå®¹å™¨æ—¶å°†å…¶ä¼ é€’ç»™å®¹å™¨ã€‚æ³¨æ„ï¼šæ„å»ºè¿‡ç¨‹ç›¸å½“é•¿ï¼Œé•œåƒå¤§å°ä¸º
    1.22GBã€‚â´'
- en: If the image runs successfully, you should be able to access the routes on your
    browser. Now, we can take it from your local machine to the web!
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœå›¾åƒæˆåŠŸè¿è¡Œï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸Šè®¿é—®è¿™äº›è·¯ç”±ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»æœ¬åœ°æœºå™¨å¸¦åˆ°ç½‘ç»œä¸Šï¼
- en: Cloud Run
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cloud Run
- en: You can use myÂ [deploy.sh](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/deploy.sh)Â script
    as a guide on how to build and deploy your image. Before doing so, I recommend
    that you assign the Cloud Run Admin role to the account or user you are running
    the script in order for it to be deployed correctly. You can do it from theÂ [IAM
    panel](https://console.cloud.google.com/iam-admin)Â within GCP.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥ä½¿ç”¨æˆ‘çš„[deploy.sh](https://github.com/timlrx/serverless-ml/blob/master/twitter-r/deploy.sh)è„šæœ¬ä½œä¸ºæ„å»ºå’Œéƒ¨ç½²é•œåƒçš„æŒ‡å—ã€‚åœ¨è¿™æ ·åšä¹‹å‰ï¼Œæˆ‘å»ºè®®ä½ å°†
    Cloud Run Admin è§’è‰²åˆ†é…ç»™è¿è¡Œè„šæœ¬çš„è´¦æˆ·æˆ–ç”¨æˆ·ï¼Œä»¥ç¡®ä¿å…¶æ­£ç¡®éƒ¨ç½²ã€‚ä½ å¯ä»¥é€šè¿‡ GCP å†…çš„[IAM é¢æ¿](https://console.cloud.google.com/iam-admin)å®Œæˆã€‚
- en: 'In the script, I retrieved the project ID programmatically, but feel free to
    substitute it with your GCP project. All the script does is to upload the local
    docker image to Googleâ€™s container repository and run cloud run to deploy the
    image from the repository:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è„šæœ¬ä¸­ï¼Œæˆ‘ç¨‹åºåŒ–åœ°æ£€ç´¢äº†é¡¹ç›® IDï¼Œä½†å¯ä»¥ç”¨ä½ çš„ GCP é¡¹ç›®æ›¿æ¢å®ƒã€‚è„šæœ¬çš„ä½œç”¨æ˜¯å°†æœ¬åœ° docker é•œåƒä¸Šä¼ åˆ° Google çš„å®¹å™¨ä»“åº“ï¼Œå¹¶è¿è¡Œ
    cloud run ä»ä»“åº“ä¸­éƒ¨ç½²é•œåƒï¼š
- en: '[PRE4]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We add anÂ `allow-unauthenticated`Â to allow public traffic and increase the
    memory as the default was too low. You can start with the default 256MB first
    but if you encounter any errors, do check the cloud run logs which is very useful
    for debugging any errors. If all goes well, you should be greeted with an image
    like this:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ·»åŠ äº†`allow-unauthenticated`æ¥å…è®¸å…¬å…±æµé‡ï¼Œå¹¶å¢åŠ äº†å†…å­˜ï¼Œå› ä¸ºé»˜è®¤å†…å­˜å¤ªä½ã€‚ä½ å¯ä»¥å…ˆä»é»˜è®¤çš„256MBå¼€å§‹ï¼Œä½†å¦‚æœé‡åˆ°ä»»ä½•é”™è¯¯ï¼Œè¯·æ£€æŸ¥
    cloud run æ—¥å¿—ï¼Œè¿™å¯¹è°ƒè¯•ä»»ä½•é”™è¯¯éå¸¸æœ‰ç”¨ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°è¿™æ ·çš„å›¾åƒï¼š
- en: '![](../Images/b85f4c428b7b6a3c3679eb5f06c07c18.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b85f4c428b7b6a3c3679eb5f06c07c18.png)'
- en: Our twitter project is now successfully hosted on Cloud Run!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„æ¨ç‰¹é¡¹ç›®ç°åœ¨æˆåŠŸæ‰˜ç®¡åœ¨ Cloud Run ä¸Šï¼
- en: Test it out
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æµ‹è¯•ä¸€ä¸‹
- en: Hereâ€™s the fun part - try it out and visualize and analyse live twitter data!
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰è¶£çš„éƒ¨åˆ†æ¥äº† - å°è¯•ä¸€ä¸‹ï¼Œå®æ—¶å¯è§†åŒ–å’Œåˆ†ææ¨ç‰¹æ•°æ®å§ï¼
- en: You can try out my hosted cloud run with one of the 4 endpoints listed above:Â [https://twitter-r-cvdvxo3vga-uc.a.run.app/](https://twitter-r-cvdvxo3vga-uc.a.run.app/)
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥å°è¯•æˆ‘çš„æ‰˜ç®¡ cloud run æœåŠ¡ï¼Œä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„4ä¸ªç«¯ç‚¹ä¹‹ä¸€ï¼š[https://twitter-r-cvdvxo3vga-uc.a.run.app/](https://twitter-r-cvdvxo3vga-uc.a.run.app/)
- en: Some fun examples!
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›æœ‰è¶£çš„ä¾‹å­ï¼
- en: Frequency of Obama tweets
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å¥¥å·´é©¬æ¨æ–‡çš„é¢‘ç‡
- en: 'The most followed person on Twitter with 112 million followers does not actually
    tweet too frequently ????:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¨ç‰¹ä¸Šæ‹¥æœ‰1.12äº¿ç²‰ä¸çš„æœ€å—å…³æ³¨äººç‰©å®é™…ä¸Šå¹¶ä¸å¸¸å¸¸å‘æ¨ ????ï¼š
- en: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama](https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama)'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama](https://twitter-r-cvdvxo3vga-uc.a.run.app/frequency?n=500&users=BarackObama)'
- en: '![](../Images/7f9e48e5df9219eff0f80ab9524e028d.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7f9e48e5df9219eff0f80ab9524e028d.png)'
- en: Sentiment analysis comparison between BBCworld and realDonaldTrump
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: BBCworldå’ŒrealDonaldTrumpçš„æƒ…æ„Ÿåˆ†æå¯¹æ¯”
- en: Sad!âµ
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ä¼¤å¿ƒï¼âµ
- en: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump](https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump)'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump](https://twitter-r-cvdvxo3vga-uc.a.run.app/sentiment?n=1000&users=BBCWorld,realDonaldTrump)'
- en: '![](../Images/42efd06b01197b8373875beb2914f7ee.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/42efd06b01197b8373875beb2914f7ee.png)'
- en: What do politicians and entertainers have in common?
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ”¿æ²»å®¶å’Œå¨±ä¹åœˆäººå£«æœ‰ä»€ä¹ˆå…±åŒä¹‹å¤„ï¼Ÿ
- en: They are overwhelmingly positive (here we use our plotly html endpoint)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬ overwhelmingly positiveï¼ˆåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬çš„ plotly html ç«¯ç‚¹ï¼‰
- en: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow](https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow)'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow](https://twitter-r-cvdvxo3vga-uc.a.run.app/html/sentiment?n=500&users=narendramodi,TheEllenShow)'
- en: '![](../Images/4a5195bfb62dc19b985472e8f761d1d8.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4a5195bfb62dc19b985472e8f761d1d8.png)'
- en: Conclusion
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Thatâ€™s it for this serverless + R tutorial. Hope you managed to learn something
    useful or at the very least find the twitter analysis interesting ????. The nice
    part about having this application running is that you can analyze real-time twitter
    frequency or sentiment plots with whatever account you choose (even your own),
    so feel free to try it out.â¶
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯æœ¬æ¬¡æ— æœåŠ¡å™¨ + R æ•™ç¨‹çš„å…¨éƒ¨å†…å®¹ã€‚å¸Œæœ›ä½ èƒ½å­¦åˆ°ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ï¼Œæˆ–è€…è‡³å°‘è§‰å¾— Twitter åˆ†æå¾ˆæœ‰è¶£ ğŸ˜ƒã€‚æ‹¥æœ‰è¿™ä¸ªåº”ç”¨ç¨‹åºçš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥ç”¨ä½ é€‰æ‹©çš„ä»»ä½•è´¦å·ï¼ˆç”šè‡³ä½ è‡ªå·±çš„ï¼‰åˆ†æå®æ—¶
    Twitter é¢‘ç‡æˆ–æƒ…æ„Ÿå›¾ï¼Œå› æ­¤éšæ„å°è¯•å§ã€‚â¶
- en: There are some very nice benefits of using a serverless stack as well such as
    per second billing, automatically scalable containers which makes it a perfect
    fit to deploy a hobby project.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ— æœåŠ¡å™¨æ¶æ„è¿˜æœ‰ä¸€äº›éå¸¸å¥½çš„å¥½å¤„ï¼Œæ¯”å¦‚æŒ‰ç§’è®¡è´¹ã€è‡ªåŠ¨æ‰©å±•çš„å®¹å™¨ï¼Œè¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆéƒ¨ç½²çˆ±å¥½é¡¹ç›®ã€‚
- en: If you are in R, you can callÂ `Sys.setenv()`Â or just export it using the CLI
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœä½ åœ¨ R ç¯å¢ƒä¸­ï¼Œå¯ä»¥è°ƒç”¨ `Sys.setenv()` æˆ–è€…ç›´æ¥ä½¿ç”¨ CLI å¯¼å‡ºã€‚
- en: '[https://www.tidytextmining.com/sentiment.html](https://www.tidytextmining.com/sentiment.html)[â†©](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/#fnref3)'
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://www.tidytextmining.com/sentiment.html](https://www.tidytextmining.com/sentiment.html)[â†©](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/#fnref3)'
- en: I took about 15 minutes to build the image. Thatâ€™s one of the downsides of R
    - itâ€™s really convenient for analyzing data but not really friendly for production.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘èŠ±äº†å¤§çº¦ 15 åˆ†é’Ÿæ¥æ„å»ºè¿™ä¸ªé•œåƒã€‚è¿™æ˜¯ R çš„ä¸€ä¸ªç¼ºç‚¹ - å®ƒå¯¹äºæ•°æ®åˆ†æéå¸¸æ–¹ä¾¿ï¼Œä½†å¯¹ç”Ÿäº§ç¯å¢ƒä¸å¤ªå‹å¥½ã€‚
- en: There are some issues scraping data from realDonaldTrump ([https://github.com/ropensci/rtweet/issues/382](https://github.com/ropensci/rtweet/issues/382))
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä» realDonaldTrump æŠ“å–æ•°æ®å­˜åœ¨ä¸€äº›é—®é¢˜ ([https://github.com/ropensci/rtweet/issues/382](https://github.com/ropensci/rtweet/issues/382))
- en: I will keep it up and running as long as I can as long as the usage does not
    suddenly spike up and exceed the free tier limit
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åªè¦ä½¿ç”¨é‡æ²¡æœ‰çªç„¶æ¿€å¢å¹¶è¶…è¿‡å…è´¹å¥—é¤é™åˆ¶ï¼Œæˆ‘ä¼šå°½å¯èƒ½ä¿æŒå®ƒè¿è¡Œã€‚
- en: '**Bio: [Timothy Lin](https://www.linkedin.com/in/timothy-lin-0600ba141/)**
    is a Data Scientist and Econometrician. Timothy''s is interested in applying data
    science techniques to solve business problems. He consults for multiple companies
    on projects involving big data analysis, consumer research, and graph theory.
    While not at work, he often muses about how models can be better deployed in productions
    settings and blog about his latest findings at [https://www.timlrx.com](https://www.timlrx.com)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç®€ä»‹ï¼š[Timothy Lin](https://www.linkedin.com/in/timothy-lin-0600ba141/)** æ˜¯ä¸€åæ•°æ®ç§‘å­¦å®¶å’Œè®¡é‡ç»æµå­¦å®¶ã€‚Timothy
    æœ‰å…´è¶£å°†æ•°æ®ç§‘å­¦æŠ€æœ¯åº”ç”¨äºè§£å†³å•†ä¸šé—®é¢˜ã€‚ä»–ä¸ºå¤šä¸ªå…¬å¸æä¾›å’¨è¯¢ï¼Œæ¶‰åŠå¤§æ•°æ®åˆ†æã€æ¶ˆè´¹è€…ç ”ç©¶å’Œå›¾è®ºç­‰é¡¹ç›®ã€‚åœ¨å·¥ä½œä¹‹å¤–ï¼Œä»–å¸¸å¸¸æ€è€ƒå¦‚ä½•åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ›´å¥½åœ°éƒ¨ç½²æ¨¡å‹ï¼Œå¹¶åœ¨
    [https://www.timlrx.com](https://www.timlrx.com) ä¸Šåšå®¢åˆ†äº«ä»–çš„æœ€æ–°å‘ç°ã€‚'
- en: '[Original](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/).
    Reposted with permission.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '[åŸæ–‡](https://www.timlrx.com/2020/01/22/serverless-machine-learning-with-r-on-cloud-run/)ã€‚ç»è®¸å¯è½¬è½½ã€‚'
- en: '**Related:**'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›¸å…³ï¼š**'
- en: '[Customer Segmentation for R Users](/2019/09/customer-segmentation-r-users.html)'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[R ç”¨æˆ·çš„å®¢æˆ·ç»†åˆ†](/2019/09/customer-segmentation-r-users.html)'
- en: '[Beginnerâ€™s Guide to K-Nearest Neighbors in R: from Zero to Hero](/2020/01/beginners-guide-nearest-neighbors-r.html)'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[R ä¸­ K-æœ€è¿‘é‚»çš„åˆå­¦è€…æŒ‡å—ï¼šä»é›¶åˆ°è‹±é›„](/2020/01/beginners-guide-nearest-neighbors-r.html)'
- en: '[R Usersâ€™ Salaries from the 2019 Stackoverflow Survey](/2019/08/r-users-salaries-2019-stackoverflow-survey.html)'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[2019 å¹´ Stackoverflow è°ƒæŸ¥ä¸­çš„ R ç”¨æˆ·è–ªèµ„](/2019/08/r-users-salaries-2019-stackoverflow-survey.html)'
- en: '* * *'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Our Top 3 Course Recommendations
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å‰ä¸‰åè¯¾ç¨‹æ¨è
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [Google Cybersecurity
    Certificate](https://www.kdnuggets.com/google-cybersecurity) - Get on the fast
    track to a career in cybersecurity.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 1\. [è°·æ­Œç½‘ç»œå®‰å…¨è¯ä¹¦](https://www.kdnuggets.com/google-cybersecurity)
    - å¿«é€Ÿè¿›å…¥ç½‘ç»œå®‰å…¨èŒä¸šç”Ÿæ¶¯ã€‚'
- en: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [Google Data Analytics
    Professional Certificate](https://www.kdnuggets.com/google-data-analytics) - Up
    your data analytics game'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/e225c49c3c91745821c8c0368bf04711.png) 2\. [è°·æ­Œæ•°æ®åˆ†æä¸“ä¸šè¯ä¹¦](https://www.kdnuggets.com/google-data-analytics)
    - æå‡ä½ çš„æ•°æ®åˆ†ææŠ€èƒ½'
- en: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [Google IT Support
    Professional Certificate](https://www.kdnuggets.com/google-itsupport) - Support
    your organization in IT'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '![](../Images/0244c01ba9267c002ef39d4907e0b8fb.png) 3\. [è°·æ­Œ IT æ”¯æŒä¸“ä¸šè¯ä¹¦](https://www.kdnuggets.com/google-itsupport)
    - æ”¯æŒä½ æ‰€åœ¨çš„ç»„ç»‡çš„ IT å·¥ä½œ'
- en: '* * *'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: More On This Topic
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: äº†è§£æ›´å¤šå†…å®¹
- en: '[How to Make Python Code Run Incredibly Fast](https://www.kdnuggets.com/2021/06/make-python-code-run-incredibly-fast.html)'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•è®© Python ä»£ç è¿è¡Œå¾—æå¿«](https://www.kdnuggets.com/2021/06/make-python-code-run-incredibly-fast.html)'
- en: '[Schedule & Run ETLs with Jupysql and GitHub Actions](https://www.kdnuggets.com/2023/05/schedule-run-etls-jupysql-github-actions.html)'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ Jupysql å’Œ GitHub Actions è®¡åˆ’å’Œè¿è¡Œ ETL](https://www.kdnuggets.com/2023/05/schedule-run-etls-jupysql-github-actions.html)'
- en: '[Learn How to Run Alpaca-LoRA on Your Device in Just a Few Steps](https://www.kdnuggets.com/2023/05/learn-run-alpacalora-device-steps.html)'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å­¦ä¹ å¦‚ä½•åœ¨æ‚¨çš„è®¾å¤‡ä¸Šä»…ç”¨å‡ æ­¥è¿è¡Œ Alpaca-LoRA](https://www.kdnuggets.com/2023/05/learn-run-alpacalora-device-steps.html)'
- en: '[Run an LLM Locally with LM Studio](https://www.kdnuggets.com/run-an-llm-locally-with-lm-studio)'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[åœ¨æœ¬åœ°ä½¿ç”¨ LM Studio è¿è¡Œ LLM](https://www.kdnuggets.com/run-an-llm-locally-with-lm-studio)'
- en: '[Getting Started with PyTest: Effortlessly Write and Run Tests in Python](https://www.kdnuggets.com/getting-started-with-pytest-effortlessly-write-and-run-tests-in-python)'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[PyTest å…¥é—¨ï¼šè½»æ¾ç¼–å†™å’Œè¿è¡Œ Python æµ‹è¯•](https://www.kdnuggets.com/getting-started-with-pytest-effortlessly-write-and-run-tests-in-python)'
- en: '[Distribute and Run LLMs with llamafile in 5 Simple Steps](https://www.kdnuggets.com/distribute-and-run-llms-with-llamafile-in-5-simple-steps)'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ llamafile åˆ†å‘å’Œè¿è¡Œ LLM çš„ 5 ä¸ªç®€å•æ­¥éª¤](https://www.kdnuggets.com/distribute-and-run-llms-with-llamafile-in-5-simple-steps)'
